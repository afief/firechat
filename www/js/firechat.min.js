function init(){mainApp=new Vue({el:"#firechat",data:{user:{},messages:[],messageText:""},ready:function(){function e(){firebase.auth().onAuthStateChanged(function(e){e?(s.user=e,firebase.database().ref("users/"+e.uid).set({name:e.displayName,photoURL:e.photoURL})):a()}),firebase.database().ref("groups/main/messages").on("child_added",function(e){var a=e.val();a.key=e.key,a.user={photoURL:"",uid:""},s.messages.push(a);var t=s.messages.length-1;firebase.database().ref("users/"+a.uid).once("value").then(function(e){s.messages[t].user=e.val()})})}function a(){var a=new firebase.auth.GoogleAuthProvider;a.addScope("https://www.googleapis.com/auth/plus.login"),firebase.auth().signInWithPopup(a).then(function(a){var s=a.credential.accessToken,t=a.user;console.log(s,t),e()})["catch"](function(e){var a=e.code,s=e.message,t=e.email,i=e.credential;console.warn(a,s,t,i)})}var s=this;e()},methods:{sendMessage:function(){""!==this.messageText?(firebase.database().ref("groups/main/messages").push({uid:this.user.uid,text:this.messageText}),console.log("send message : `"+this.messageText+"`"),this.messageText=""):alert("Pesan tidak boleh kosong")}}})}var config={apiKey:"AIzaSyCkbkamAptA7hwKjTwbudV2c_z3cDEps3s",authDomain:"firechat-948e8.firebaseapp.com",databaseURL:"https://firechat-948e8.firebaseio.com",storageBucket:"firechat-948e8.appspot.com"};firebase.initializeApp(config),window.addEventListener("load",init);var mainApp;
//# sourceMappingURL=firechat.min.js.map
